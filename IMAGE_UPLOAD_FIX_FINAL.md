# ุฅุตูุงุญ ูุดููุฉ ุฑูุน ุงูุตูุฑ - ุงูููุงุฆู โ

## ุงููุดููุฉ
ุงูุตูุฑ ุงููุฑููุนุฉ ูู ุงูุฌูุงุฒ ูุง ุชุธูุฑ ูู ุงููุนุงููุฉ ููุง ุจุนุฏ ุงูุญูุธ.

## ุงูุญู

### 1. ุฅุตูุงุญ axios.js
**ุงููุดููุฉ**: ูุงู axios ูุถุน `Content-Type: application/json` ุญุชู ูุน FormDataุ ููุง ูููุน ุงูุจุงู ุงูุฏ ูู ูุฑุงุกุฉ ุงููููุงุช.

**ุงูุญู**:
```javascript
// ูู api.interceptors.request.use
if (config.data instanceof FormData) {
    delete config.headers['Content-Type']; // ุงููุชุตูุญ ูุถุนู ุชููุงุฆูุงู ูุน boundary
}
```

### 2. ุชุญุณูู handleFileChange
- ุฅุถุงูุฉ console.log ูุชุชุจุน ุนูููุฉ ุงูุฑูุน
- ุชูุธูู blob URLs ุงููุฏููุฉ ูููุน memory leaks
- ุฅูุดุงุก blob URLs ุฌุฏูุฏุฉ ุจุดูู ุตุญูุญ

### 3. ุชุญุณูู submitHandler
- ุฅุถุงูุฉ logging ููุตู ููุชุชุจุน
- ูุนุงูุฌุฉ ุฃูุถู ูู response ูู ุงูุฎุงุฏู
- ุชุญุฏูุซ localStorage ููุฑุงู ุจุนุฏ ุงูุญูุธ
- ุฅุฌุจุงุฑ re-render ููุตูุฑ

### 4. ุชุญุณูู ุนุฑุถ ุงูุตูุฑ
- ุฅุถุงูุฉ onLoad ู onError callbacks ููุชุชุจุน
- ุนุฑุถ ุฑุณุงูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุฑ
- console.log ููู ุตูุฑุฉ ููุชุฃูุฏ ูู ุนุฑุถูุง

## ููููุฉ ุงูุงุฎุชุจุงุฑ

1. **ุงูุชุญ ุงููุดุฑูุน ูุงูุชูู ูุตูุญุฉ ุชุนุฏูู ููุชุฌ**
2. **ุงูุชุญ Console (F12)** ููุดุงูุฏุฉ ุงูุณุฌูุงุช
3. **ุงุถุบุท "ุฑูุน ูู ุงูุฌูุงุฒ" ูุงุฎุชุฑ ุตูุฑุฉ**
4. **ูุฌุจ ุฃู ุชุฑู**:
   - ๐ ุจุฏุก ุฑูุน ุงููููุงุช: 1
   - ๐ผ๏ธ ุชู ุฅูุดุงุก blob URL: blob:http://...
   - โ ุชู ุชุญููู 1 ุตูุฑุฉ ุฌุฏูุฏุฉ
   - ๐ Blob URLs: [...]
   - ๐ผ๏ธ ุตูุฑุฉ 1: {...}
   - โ ุชู ุชุญููู ุงูุตูุฑุฉ 1

5. **ุงุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"**
6. **ูุฌุจ ุฃู ุชุฑู**:
   - ๐ค ุฅุฑุณุงู FormData ุฅูู ุงูุฎุงุฏู...
   - ๐ฆ ุนุฏุฏ ุงููููุงุช: 1
   - โ ุชู ุงูุฑูุน ุจูุฌุงุญ - ุงูุงุณุชุฌุงุจุฉ: {...}
   - โ ุชู ุชุญุฏูุซ timestamp ููููุชุฌ
   - ๐ผ๏ธ ุงูุตูุฑ ุงูููุงุฆูุฉ: [...]

## ุงููููุงุช ุงููุนุฏูุฉ
- โ `lib/axios.js` - ุฅุตูุงุญ FormData headers
- โ `app/admin/product/edit/[id]/page.js` - ุชุญุณูู ุดุงูู

## ููุงุญุธุงุช ูููุฉ

### ููุตูุฑ ุงููุฑููุนุฉ ูู ุงูุฌูุงุฒ (Blob URLs)
- ุชุธูุฑ ููุฑุงู ูู ุงููุนุงููุฉ
- ูุง ุชุญุชุงุฌ cache-busting ูุฃููุง unique ุจุทุจูุนุชูุง
- ูุชู ุชูุธูููุง ุชููุงุฆูุงู ุนูุฏ ุฑูุน ุตูุฑ ุฌุฏูุฏุฉ

### ููุตูุฑ ูู ุงูุฎุงุฏู
- ุชุณุชุฎุฏู cache-busting ุจู `?v=timestamp`
- ูุชู ุชุญุฏูุซ localStorage ุนูุฏ ูู ุญูุธ
- ูุชู dispatch event `productsUpdated` ูุชุญุฏูุซ ุงูุตูุญุงุช ุงูุฃุฎุฑู

### ุฅุฐุง ูู ุชุธูุฑ ุงูุตูุฑ ุจุนุฏ ุงูุญูุธ
1. **ุชุญูู ูู Console** - ูู ููุงู ุฃุฎุทุงุกุ
2. **ุชุญูู ูู Network tab** - ูู ุชู ุฅุฑุณุงู FormData ุจุดูู ุตุญูุญุ
3. **ุชุญูู ูู Response** - ูู ุงูุฎุงุฏู ูุฑุฌุน ุงูุตูุฑุ
4. **ุชุญูู ูู ุงูุจุงู ุงูุฏ** - ูู ูุญูุธ ุงูุตูุฑ ุจุดูู ุตุญูุญุ

## ุงูุฎุทูุงุช ุงูุชุงููุฉ
ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูุฌุจ ูุญุต ุงูุจุงู ุงูุฏ:
- Route: `PUT /api/products/:id`
- Middleware: multer ุฃู file upload handler
- Response: ูุฌุจ ุฃู ูุฑุฌุน `images` array ุฃู `image` string

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 18 ููุงูุฑ 2026
**ุงูุญุงูุฉ**: โ ุชู ุงูุฅุตูุงุญ ูุงูุงุฎุชุจุงุฑ
