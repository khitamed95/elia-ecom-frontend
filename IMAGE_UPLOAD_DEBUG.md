# ๐ผ๏ธ ุฏููู ุชุตุญูุญ ูุดุงูู ุฑูุน ุงูุตูุฑ

## ุงููุดููุฉ ุงููุจูุบ ุนููุง
ุงูุตูุฑ ูุง ุชุธูุฑ ุจุนุฏ ุฑูุนูุง ูุญูุธ ุงูุชุนุฏููุงุช (ุชุจูู ุบูุฑ ูุฑุฆูุฉ).

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. ุชุญุณููุงุช ูู ูุนุงูุฌุฉ ุงูุตูุฑ
- **ุฅุถุงูุฉ ุญุงูุฉ ุชุชุจุน ุงูุฃุฎุทุงุก**: `imageErrors` state ูุชุชุจุน ุงูุตูุฑ ุงูุชู ูุดูุช ูู ุงูุชุญููู
- **ูุนุงูุฌุฉ ุจุฏููุฉ ููุตูุฑ ุงูููุณูุฑุฉ**: ุนุฑุถ ุฑุณุงูุฉ "ุตูุฑุฉ ุบูุฑ ูุชุงุญุฉ" ูุน ุฑูุฒ ุจุฏูุงู ูู ุตูุฑุฉ ููุณูุฑุฉ
- **ุชุญุณูู ุฏุงูุฉ getImageUrl()**: ูุนุงูุฌุฉ ุฃูุถู ูููุณุงุฑุงุช ุงููุฎุชููุฉ (blob, data, HTTP, relative paths)

### 2. ููุงุท ุงูุชุตุญูุญ ุงูุฅุถุงูู
```javascript
// ูู fetchProduct():
- ุฅุถุงูุฉ console.log() ูุชุชุจุน ุงูุตูุฑ ุงููุญููุฉ ูู ุงูุฎุงุฏู
- ุชุตููุฑ imageErrors ุนูุฏ ุชุญููู ุงูููุชุฌ
- ุชุณุฌูู ุงูุจูุงูุงุช ุงููุณุชูุจูุฉ ูู API

// ูู submitHandler():
- ุฅุถุงูุฉ ุชุณุฌูู ุชูุตููู ูุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู
- ุชุณุฌูู ูุนุงููุงุช blob ุงููุคูุชุฉ
- ุชุณุฌูู ุชุฃุฎูุฑ ุฅุนุงุฏุฉ ุฌูุจ ุงูุจูุงูุงุช
```

## ุฎุทูุงุช ุงูุชุตุญูุญ ุงููุฏูู

### ุงูุฎุทูุฉ 1: ูุชุญ Developer Tools
1. ุงูุชุญ ุตูุญุฉ ุชุนุฏูู ุงูููุชุฌ
2. ุงุถุบุท F12 ููุชุญ Developer Console
3. ุงุฐูุจ ุฅูู ุนูุงูุฉ "Console" (ุงููููุณูู)

### ุงูุฎุทูุฉ 2: ุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ
1. ุงููุฑ ุนูู "๐ ุฑูุน ูู ุงูุฌูุงุฒ"
2. ุงุฎุชุฑ ุตูุฑุฉ ูู ุฌูุงุฒู
3. ุงุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"

### ุงูุฎุทูุฉ 3: ูุฑุงูุจุฉ ุงูุณุฌูุงุช
ูู ุงููููุณููุ ุณุชุธูุฑ ุงูุฑุณุงุฆู ุงูุชุงููุฉ:

```
โ ุชู ุงูุฑูุน ุจูุฌุงุญ - ุงูุงุณุชุฌุงุจุฉ: {
  images: [...],  // ูุตูููุฉ ุงูุตูุฑ ูู ุงูุฎุงุฏู
  image: "...",   // ุตูุฑุฉ ูุงุญุฏุฉ
  status: 200
}

๐ผ๏ธ ุชุนููู ูุนุงููุงุช blob ูุคูุชุฉ: 1

โณ ูู ุงูุชุธุงุฑ ุฅุนุงุฏุฉ ุฌูุจ ุงูุจูุงูุงุช...

๐ ุฅุนุงุฏุฉ ุฌูุจ ุจูุงูุงุช ุงูููุชุฌ ูู ุงูุฎุงุฏู

๐ฆ ุจูุงูุงุช ุงูููุชุฌ ุงูููุญููุฉ: {
  images: [...],  // ุงูุตูุฑ ูู ุงูุฎุงุฏู
  image: "...",
  category: "..."
}

๐ผ๏ธ ุงูุตูุฑ ุงููุฑุงุฏ ุนุฑุถูุง: [...]
```

## ุงูุชุดุฎูุต ุญุณุจ ุงูุญุงูุฉ

### โ ุฅุฐุง ุธูุฑุช ุงูุตูุฑ ุจูุฌุงุญ
- ุงููุธุงู ูุนูู ุจุดูู ุตุญูุญ
- ุชุฃูุฏ ูู ุฃู ุตูุบ ุงูุตูุฑ ูุฏุนููุฉ (JPG, PNG, GIF, WebP)

### โ ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ "ุตูุฑุฉ ุบูุฑ ูุชุงุญุฉ"
**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**

#### 1. ุงูุตูุฑ ุบูุฑ ูุญููุธุฉ ุนูู ุงูุฎุงุฏู
- ุชุญูู ูู ุฃู endpoint PUT `/api/products/{id}` ูุญูุธ ุงูุตูุฑ
- ุชุฃูุฏ ูู ุฃู ูููุงุช ุงูุตูุฑ ุชูุญูู ุนูู ุงูุฎุงุฏู ุจูุฌุงุญ
- ุฑุงุฌุน ุณุฌูุงุช ุงูุฎุงุฏู (backend)

#### 2. ูุณุงุฑ ุงูุตูุฑ ุบูุฑ ุตุญูุญ
- ูู ุงููููุณููุ ุชุญูู ูู ูููุฉ `data.images`
- ูุฌุจ ุฃู ุชุญุชูู ุนูู ูุณุงุฑุงุช ุตุญูุญุฉ ูุซู:
  - `/uploads/image-123.jpg`
  - `uploads/image-123.jpg`
  - `https://example.com/image.jpg`

#### 3. NEXT_PUBLIC_API_URL ุบูุฑ ููุชูู
- ุชุญูู ูู ููู `.env.local`:
  ```
  NEXT_PUBLIC_API_URL=http://192.168.1.158:5000
  ```
- ูุฌุจ ุฃู ูุดูุฑ ุฅูู backend ุงููุนูู

### ๐ง ุฎุทูุงุช ุชุตุญูุญ ุฅุถุงููุฉ

#### ุฃ) ุชุญูู ูู ุงุณุชุฌุงุจุฉ ุงูุฎุงุฏู
ูู ุงููููุณูู:
```javascript
// ุงูุณุฎ ูุฐุง ูุงุดุชุบู ูู ุงููููุณูู
const url = `${process.env.NEXT_PUBLIC_API_URL}/api/products/[product-id]`;
fetch(url, {
    headers: {'Authorization': `Bearer ${localStorage.getItem('token')}`}
}).then(r => r.json()).then(data => {
    console.log('ุงูุตูุฑ ุงููุฑุฌุนุฉ:', data.images);
    console.log('ูุณุงุฑ ุงูุตูุฑุฉ ุงูุฃุณุงุณู:', data.image);
});
```

#### ุจ) ุชุญูู ูู ุฃู ุงูุฎุงุฏู ูุฑุณู ุงูุตูุฑ
```javascript
// ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ ูุฌุจ ุฃู ุชููู:
{
  images: ["/uploads/img1.jpg", "/uploads/img2.jpg"],
  image: "/uploads/img1.jpg",
  ...otherFields
}
```

#### ุฌ) ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS
ุฅุฐุง ูุงูุช ุงูุตูุฑ ูู ูุทุงู ูุฎุชููุ ุชุฃูุฏ ูู ุฃู:
- ุงูุฎุงุฏู ูุณูุญ ุจู CORS
- ุฑุคูุณ ุงูุงุณุชุฌุงุจุฉ ุชุชุถูู:
  ```
  Access-Control-Allow-Origin: *
  ```

### ๐ ูุคุดุฑุงุช ุงูุญุงูุฉ

| ุงูุญุงูุฉ | ุงูุนูุงูุฉ | ุงูุฅุฌุฑุงุก |
|--------|--------|--------|
| ุตูุฑ ุชุธูุฑ ุจูุฌุงุญ | โ | ูุง ุฅุฌุฑุงุก ูุทููุจ |
| ุตูุฑ "ุบูุฑ ูุชุงุญุฉ" + ุฎุทุฃ 404 | โ | ุชุญูู ูู ูุณุงุฑุงุช ุงูุตูุฑ ุนูู ุงูุฎุงุฏู |
| ุตูุฑ "ุบูุฑ ูุชุงุญุฉ" + CORS error | ๐ซ | ุงุณุชูุณุฑ ุนู ุฅุนุฏุงุฏุงุช CORS |
| ูุง ุชุธูุฑ ุฑุณุงูุฉ ุงููุฌุงุญ | โ๏ธ | ุชุญูู ูู ูุดุงุท ุงูุดุจูุฉ ูู DevTools |

## ููุงุญุธุงุช ูููุฉ

1. **ุญุฌู ุงูููู**: ุงูุญุฏ ุงูุฃูุตู 5MB ููู ุตูุฑุฉ
2. **ุตูุบ ูุฏุนููุฉ**: JPG, PNG, GIF, WebP, SVG
3. **ุงูุชุฃุฎูุฑ**: ูุฏ ูุณุชุบุฑู 2-3 ุซูุงู ุญุชู ุชุธูุฑ ุงูุตูุฑ ุจุนุฏ ุงูุญูุธ
4. **Cache**: ูุฏ ุชุญุชุงุฌ ูุชุญุฏูุซ ุงูุตูุญุฉ (F5) ุฅุฐุง ูู ุชุธูุฑ ุงูุตูุฑ

## ูููุณุงุนุฏุฉ ุงูุฅุถุงููุฉ

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูู ุจู:
1. ูุชุญ DevTools (F12)
2. ุงูุชูู ุฅูู Network tab
3. ูู ุจุฑูุน ุตูุฑุฉ ุฌุฏูุฏุฉ
4. ุงุจุญุซ ุนู PUT request ุฅูู `/api/products/[id]`
5. ุชุญูู ูู ุงูุงุณุชุฌุงุจุฉ (Response)
6. ุชุญูู ูู ุญุงูุฉ ุงูุฎุทุฃ ูู Console
